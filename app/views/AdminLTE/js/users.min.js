$(document).on("click",".change-user-password",function(){var n=$(this).data("userid");swal({title:"Change Password",html:'<div>Please enter a new password.</div><div class="col-md-6"><input type="password" id="swal-input1" class="swal2-input" placeholder="New Password"></div><div class="col-md-6"><input type="password" id="swal-input2" class="swal2-input" placeholder="Confirm"></div>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Change Password",cancelButtonText:"Cancel",reverseButtons:!0,preConfirm:function(){return new Promise(function(s,t){var e=$("#swal-input1").val(),o=$("#swal-input2").val();e!=o&&t("The passwords you entered do not match."),DappurCSRF.csrfAjax("/dashboard/users/change-password",{password:e,confirm:o,user_id:n},function(e){"error"==e.status?t(e.message):"success"==e.status?s():t("An unknown error occured.")})})}}).then(function(e){swal({type:"success",title:"User password has been successfully changed."})}).catch(swal.noop)}),$(document).on("click",".disable2fa",function(){var e=$(this).data("userid"),s=$(this);swal({type:"warning",title:"Disable 2FA",text:"Are you sure that you want to disable two factor authentication for this user?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Disable 2FA",cancelButtonText:"Cancel",reverseButtons:!0,preConfirm:function(){return new Promise(function(s,t){DappurCSRF.csrfAjax("/dashboard/users/2fa/disable",{user_id:e},function(e){"error"==e.status?t(e.message):"success"==e.status?s():t("An unknown error occurred.")})})}}).then(function(){s.remove(),swal({type:"success",title:"Two factor authentication has been disabled for this user."})}).catch(swal.noop)}),$(document).on("click","#addPermButton",function(){$("#permissionsRow").append('<div><div class="col-xs-6"><div class="form-group"><input type="text" name="perm_name[]" class="form-control" placeholder="Permission Name" required="required"></div></div><div class="col-xs-5"><div class="form-group"><select name="perm_value[]" class="form-control" required="required"><option value="true">True</option><option value="false">False</option></select></div></div><div class="col-xs-1"><a class="btn btn-primary btn-danger removePerm"><span class="fa fa-fw fa-close"></span> </a></div></div>')}),$(document).on("click",".removePerm",function(){$(this).parent().parent().remove()}),$(document).on("click",".removePerm",function(){$(this).parent().parent().remove()});